<%= turbo_stream.prepend "todo_item" do %>
   <% @todo.todo_items.each do |item|  %>
    <%= render "todo_items/todo_item", item: item %>
  <% end %>
<% end %>

<%= turbo_stream.replace "item_form" do %>
 <%= form_with url:todo_todo_items_path(@todo),id:"item_form",data: {turbo: true} do |f| %>
    <%= f.text_field :description, placeholder:"Add a new todo item" %> 
    <%= f.submit "Add" , class:"btn btn-primary" %>
  <% end %>
<% end %>

<%= turbo_stream.update "todo_progress" do %>
<h2><%= @todo_item.todo.title.capitalize %>  
<span class="badge bg-<%= @todo_item.todo.badge_color %> " ><%=@todo_item.todo.status %></span>
</h2>

<p class='text-secondary m-0'><small><%= @todo_item.todo.percent_complete %>% Complete (<%= @todo_item.todo.completed_items %>/<%= @todo_item.todo.total_items %> Todo Items)</small></p>

<div class="progress">
  <div class="progress-bar" role="progressbar" style="width: <%= @todo_item.todo.percent_complete %>%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<% end %>